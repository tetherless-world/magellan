
//- Mixins
mixin attrRow(attr)
  if data[attr]
    tr
      td #{attr}:
      td #{data[attr]}

mixin idRow(attr)
  if data[attr]
    tr
      td #{attr}:
      td
        a(data-relation=data[attr]['@id']) #{data[attr]['@id']}

//- Outputs attributes using mixins
//- +attrRow('@id')
//- +attrRow('@type')
//- +attrRow('rdfs:Label')
//- +attrRow('dmoa:FileType')
//- +attrRow('dmoi:resultType')
//- +idRow('dmo:isResultOf')
//- +idRow('dmo:belongsTo')

//- if data.hasAggregates
//-   tr
//-     td aggregates:
//-     td
//-       a(data-click='toggle-aggegates') Show Aggregates
//-       | &nbsp; (#{data.aggregates.length} items)

//-   tr.aggregate-list(data-toggle='aggregates' style='display:none;')
//-     td
//-     td
//-       each file in data.aggregates
//-         a(data-aggregates=file)= file
//-         | , &nbsp;

//- // // // // //

//- TODO - array?
each val, key in data

  if typeof val == 'object'
    +idRow(key)

  else
    +attrRow(key)
